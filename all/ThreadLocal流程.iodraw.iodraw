<mxGraphModel dx="1030" dy="531" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="PKMA2QC2BMBOHINt20Tq-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="PKMA2QC2BMBOHINt20Tq-1" target="PKMA2QC2BMBOHINt20Tq-2" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="PKMA2QC2BMBOHINt20Tq-1" value="Threadlocal.set" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="320" y="110" width="120" height="60" as="geometry"/></mxCell><mxCell id="7rhZt73F2M1Tt3vlUeAq-2" value="map!=null" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="PKMA2QC2BMBOHINt20Tq-2" target="7rhZt73F2M1Tt3vlUeAq-1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="7rhZt73F2M1Tt3vlUeAq-4" value="map==null" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="PKMA2QC2BMBOHINt20Tq-2" target="7rhZt73F2M1Tt3vlUeAq-3"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="PKMA2QC2BMBOHINt20Tq-2" value="getMap" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="320" y="250" width="120" height="60" as="geometry"/></mxCell><mxCell id="7rhZt73F2M1Tt3vlUeAq-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="7rhZt73F2M1Tt3vlUeAq-3" target="7rhZt73F2M1Tt3vlUeAq-5"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="7rhZt73F2M1Tt3vlUeAq-3" value="createMap" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="320" y="390" width="120" height="60" as="geometry"/></mxCell><mxCell id="7rhZt73F2M1Tt3vlUeAq-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="7rhZt73F2M1Tt3vlUeAq-5" target="7rhZt73F2M1Tt3vlUeAq-7"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="7rhZt73F2M1Tt3vlUeAq-5" value="&amp;nbsp;new ThreadLocalMap(this, firstValue);初始化Map" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="320" y="530" width="120" height="60" as="geometry"/></mxCell><mxCell id="7rhZt73F2M1Tt3vlUeAq-7" value="&amp;nbsp;hash索引:firstKey.threadLocalHashCode &amp;amp; (INITIAL_CAPACITY - 1);" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="320" y="670" width="120" height="60" as="geometry"/></mxCell><mxCell id="7rhZt73F2M1Tt3vlUeAq-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="7rhZt73F2M1Tt3vlUeAq-1" target="7rhZt73F2M1Tt3vlUeAq-9"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="7rhZt73F2M1Tt3vlUeAq-1" value="&amp;nbsp;map.set(this, value);" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="520" y="250" width="120" height="60" as="geometry"/></mxCell><mxCell id="7rhZt73F2M1Tt3vlUeAq-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="7rhZt73F2M1Tt3vlUeAq-9" target="7rhZt73F2M1Tt3vlUeAq-11"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="7rhZt73F2M1Tt3vlUeAq-14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="7rhZt73F2M1Tt3vlUeAq-9" target="7rhZt73F2M1Tt3vlUeAq-13"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="7rhZt73F2M1Tt3vlUeAq-9" value="向后寻找直到找到空entry" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="720" y="250" width="120" height="60" as="geometry"/></mxCell><mxCell id="7rhZt73F2M1Tt3vlUeAq-16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="7rhZt73F2M1Tt3vlUeAq-13" target="7rhZt73F2M1Tt3vlUeAq-15"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="7rhZt73F2M1Tt3vlUeAq-13" value="向后寻找直到找到空entry" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="720" y="390" width="120" height="60" as="geometry"/></mxCell><mxCell id="7rhZt73F2M1Tt3vlUeAq-15" value="&lt;pre style=&quot;background-color: rgb(199 , 237 , 204)&quot;&gt;&lt;font face=&quot;consolas, monospace&quot;&gt;&lt;span style=&quot;font-size: 14px&quot;&gt;replaceStaleEntry&lt;/span&gt;&lt;span style=&quot;font-size: 10.5pt&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre style=&quot;background-color: rgb(199 , 237 , 204)&quot;&gt;&lt;font face=&quot;consolas, monospace&quot;&gt;&lt;span style=&quot;font-size: 14px&quot;&gt;当前ThreadLocal与空值换位&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="720" y="530" width="120" height="60" as="geometry"/></mxCell><mxCell id="7rhZt73F2M1Tt3vlUeAq-11" value="如果当前Thread与key相同，在设置值并返回" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="920" y="250" width="120" height="60" as="geometry"/></mxCell></root></mxGraphModel>